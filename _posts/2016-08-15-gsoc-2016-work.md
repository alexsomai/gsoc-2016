---
layout: post
title: "External Workspace Manager Plugin @ GSoC 2016"
date: 2016-08-15
---

**TODO THIS PAGE IS STILL WORK IN PROGRESS!**

Organization: [Jenkins Project](https://jenkins.io/)

Student: [Alexandru Somai](https://github.com/alexsomai)

Mentors: [Oleg Nenashev](https://github.com/oleg-nenashev), [Martin d'Anjou](https://github.com/martinda)

## Table of contents

1. [External Workspace Manager Plugin](#external-workspace-manager-plugin)
    2. [Work Summary](#work-summary)
        3. [External Workspace Manager Plugin](#external-workspace-manager-plugin)
        3. [Run Selector Plugin](#run-selector-plugin)
        3. [Workspace Cleanup Plugin](#workspace-cleanup-plugin)
        3. [Acceptance Test Harness](#acceptance-test-harness)
    2. [Documentation](#documentation)
1. [Blog Posts @ jenkins.io](#blog-posts)

## External Workspace Manager Plugin

During [Google Summer of Code](https://summerofcode.withgoogle.com/) 2016 I have implemented from scratch a Jenkins 
plugin called External Workspace Manager. The project's source code is on
[GitHub](https://github.com/jenkinsci/external-workspace-manager-plugin).

### Work Summary

In the community bonding period I have started writing a plugin design document.
The document was also updated on the go, as I was progressing with the code.
It is publicly shared via 
[Google Docs](https://docs.google.com/document/d/1yiisnsR7qg3XEEvch8vocWbitSUCZcoQ-pfzEVFg1eA/edit?usp=sharing).

#### External Workspace Manager Plugin

I have tracked my progress using JIRA.
The coding period phase 1 EPIC is [[JENKINS-35019]](https://issues.jenkins-ci.org/browse/JENKINS-35019), 
which includes the following issues, with their afferent pull requests:

Issue | PR | Description | Status
----- | --- | ---------- | ------
[[JENKINS-35110]](https://issues.jenkins-ci.org/browse/JENKINS-35110) | [#1](https://github.com/jenkinsci/external-workspace-manager-plugin/pull/1) | Allow Jenkins global config and node config | Merged
[[JENKINS-35192]](https://issues.jenkins-ci.org/browse/JENKINS-35192) | [#9](https://github.com/jenkinsci/external-workspace-manager-plugin/pull/9) | Implement the `exwsAllocate` step | Merged
[[JENKINS-35244]](https://issues.jenkins-ci.org/browse/JENKINS-35244) | [#12](https://github.com/jenkinsci/external-workspace-manager-plugin/pull/12) | Implement the `exws` step | Merged

**TODO this table is not complete yet!**

The coding period phase 2 EPIC is [[JENKINS-35971]](https://issues.jenkins-ci.org/browse/JENKINS-35971),
with the following issues and pull requests:

Issue | PR | Description | Status
----- | --- | ---------- | ------
[[JENKINS-35653]](https://issues.jenkins-ci.org/browse/JENKINS-35653) | [#17](https://github.com/jenkinsci/external-workspace-manager-plugin/pull/17) | Enhance help files | Merged

**TODO this table is not complete yet!**

Following are the links to the list of **commits** I have made on the External Workspace Manager Plugin:

* Page 1: <https://github.com/jenkinsci/external-workspace-manager-plugin/commits/master?author=alexsomai&page=1>
* Page 2: <https://github.com/jenkinsci/external-workspace-manager-plugin/commits/master?author=alexsomai&page=2>
* Page 3: <https://github.com/jenkinsci/external-workspace-manager-plugin/commits/master?author=alexsomai&page=3>

My project is dependant, more or less, on other plugins.
Therefore, I have contributed to other Jenkins plugins too.

#### Run Selector Plugin

The External Workspace Manager Plugin needed a feature to select a specific build based on some input parameters.
Such feature was available in the [Copy Artifact Plugin](https://github.com/jenkinsci/copyartifact-plugin).
But, my mentors and I have decided that it would be better for the community to isolate the build selection logic
in a separate plugin, so that, in the future other plugins may benefit from this functionality.
I have started a discussion about this on the Jenkins dev ML:
<https://groups.google.com/forum/#!topic/jenkinsci-dev/G-ZnJu3h67g>.

The work I did to decouple the build selection logic is in the
[Run Selector Plugin](https://github.com/jenkinsci/run-selector-plugin).
Following are the pull requests:

Issue | PR | Description | Status
----- | --- | ---------- | ------
[[JENKINS-36484]](https://issues.jenkins-ci.org/browse/JENKINS-36484) | [#1](https://github.com/jenkinsci/run-selector-plugin/pull/1) |  Remove deprecated code | Merged

**TODO this table is not complete yet!**

My **commits** on the Run Selector Plugin are:

* Page 1: <https://github.com/jenkinsci/run-selector-plugin/commits/master?author=alexsomai&page=1>
* Page 2: <https://github.com/jenkinsci/run-selector-plugin/commits/master?author=alexsomai&page=2>

[//]:TODO not released yet, but hopefully it will be
[//]:I have also released the Run Selector Plugin.
[//]:Minimum version 1.0 is needed to be used by the External Workspace Manager Plugin.

#### Workspace Cleanup Plugin

The External Workspace Manager Plugin needed a workspace cleanup feature, so that the user may automatically delete
the workspace after it was used.
The [Workspace Cleanup Plugin](https://github.com/jenkinsci/ws-cleanup-plugin) does that,
but it was not Pipeline compatible.
Since my project is mainly focused on Pipeline jobs, I had to make the Workspace Cleanup Plugin to be
Pipeline compatible.

Issue | PR | Description | Status
----- | --- | ---------- | ------
[[JENKINS-28454]](https://issues.jenkins-ci.org/browse/JENKINS-28454) | [#27](https://github.com/jenkinsci/ws-cleanup-plugin/pull/27) | Pipeline compatibility | Merged

The afferent **commits** are:

* <https://github.com/jenkinsci/ws-cleanup-plugin/commits/master?author=alexsomai>

The Workspace Cleanup Plugin was released with my changes.
Since version 0.30 it is compatible with my project, External Workspace Manager Plugin.

#### Acceptance Test Harness
I have also written Acceptance Tests for the External Workspace Manager Plugin.
These tests are located in a separate [repository](https://github.com/jenkinsci/acceptance-test-harness),
and are meant to test the integration with other plugins.
For this, I have created the PR 

Issue | PR | Description | Status
----- | --- | ---------- | ------
[[JENKINS-36076]](https://issues.jenkins-ci.org/browse/JENKINS-36076) | [#172](https://github.com/jenkinsci/acceptance-test-harness/pull/172) | Acceptance tests for the External Workspace Manager | Open

The **commits** are:

* <https://github.com/jenkinsci/acceptance-test-harness/commits/master?author=alexsomai>

### Documentation
The complete plugin's documentation that I have written may be found on 
[this page](https://github.com/jenkinsci/external-workspace-manager-plugin/blob/master/README.md).
It contains information of how to get started with the plugin, available features and basic usage examples.

## <a name="blog-posts"></a>Blog Posts @ jenkins.io

During the GSoC I have also submitted several blog posts on the Jenkins blogging page:

* The introductory blog post: <https://jenkins.io/blog/2016/05/23/external-workspace-manager-plugin/> 
* The blog post announcing the alpha release: <https://jenkins.io/blog/2016/06/30/ewm-alpha-version/>
* The blog post announcing the beta release: <https://jenkins.io/blog/2016/08/09/ewm-beta-version/>

The blog posts were submitted via pull requests: 
[#254](https://github.com/jenkins-infra/jenkins.io/pull/254),
[#296](https://github.com/jenkins-infra/jenkins.io/pull/296) and
[#341](https://github.com/jenkins-infra/jenkins.io/pull/341).
I have also made some other minor **contributions** to the
[jenkins.io](https://github.com/jenkins-infra/jenkins.io) repository:

* <https://github.com/jenkins-infra/jenkins.io/commits/master?author=alexsomai>
